{"version":3,"sources":["webpack:///./src/pages/projects.js","webpack:///./src/pages/projects.module.css"],"names":["TimelinePage","refs","ReferenceManager","addEntitiesFromData","publicationsData","citationsData","projects","fillReferences","projectsData","map","src","dest","Object","assign","startTime","DateTime","fromISO","startDate","endTime","endDate","products","srcProduct","sort","a","b","toMillis","React","createElement","Layout","title","project","index","slug","slugify","name","id","class","css","projectTitle","href","dates","description","utils","product","creativeworks","projectEndHR","module","exports"],"mappings":"yWAqBe,SAASA,IACtB,IAAMC,EAAO,IAAIC,IACjBD,EAAKE,oBAAoBC,GACzBH,EAAKE,oBAAoBE,GACzB,IAGMC,EAHoBL,EAAKM,eAAeC,GAGXF,SAChCG,KAAI,SAAAC,GACH,IAAMC,EAAIC,OAAAC,OAAA,GAAOH,GAWjB,OAVAC,EAAKG,UAAYC,WAASC,QAAQL,EAAKM,WACvCN,EAAKO,QAAUH,WAASC,QAAQL,EAAKQ,SACrCR,EAAKS,UAAYT,EAAKS,UAAY,IAAIX,KAAI,SAAAY,GACxC,IAAMV,EAAIC,OAAAC,OAAA,GAAOQ,GAGjB,OAFAV,EAAKG,UAAYC,WAASC,QAAQL,EAAKM,WACvCN,EAAKO,QAAUH,WAASC,QAAQL,EAAKQ,SAC9BR,KACNW,MACD,SAACC,EAAGC,GAAC,OAAKA,EAAEN,QAAQO,WAAaF,EAAEL,QAAQO,cAEtCd,KAERW,MACC,SAACC,EAAGC,GAAC,OAAKA,EAAEN,QAAQO,WAAaF,EAAEL,QAAQO,cAG/C,OACEC,IAAAC,cAACC,IAAM,CAACC,MAAM,YAGVvB,EAASG,KAAI,SAACqB,EAASC,GACrB,IAAMC,EAAOC,IAAQH,EAAQI,MAE7B,OAAQR,IAAAC,cAAA,WACND,IAAAC,cAAA,OAAKQ,GAAIH,EAAMI,MAAOC,IAAIC,cACxBZ,IAAAC,cAAA,KAAGS,MAAM,eAAeG,KAAM,IAAMP,GAAM,KACxCQ,IAAuBV,EAAQhB,UAAWgB,EAAQZ,SACnD,IAAI,IAAO,IACZQ,IAAAC,cAAA,cAAUG,EAAQI,OAElBJ,EAAQW,aAAeC,IAAyBZ,EAAQW,aAAa,GACvEf,IAAAC,cAAA,MAAIS,MAAM,gBACNN,EAAQV,SAASX,KAAI,SAAAkC,GAAO,OAAIjB,IAAAC,cAAA,UAAKiB,IAAiCD,EAASX,QAEnFN,IAAAC,cAAA,MAAIS,MAAOC,IAAIQ,sB,qBChE3BC,EAAOC,QAAU,CAAC,aAAe,uCAAuC,aAAe","file":"component---src-pages-projects-js-9a380b5caf7d578d5b06.js","sourcesContent":["import React from \"react\"\nimport { DateTime } from \"luxon\"\nimport { Link } from \"gatsby\"\nimport slugify from \"slugify\"\n\nimport * as dates from \"../lib/dates.js\"\nimport * as orgs from \"../lib/organizations.js\"\nimport * as creativeworks from \"../lib/creativeworks.js\"\nimport * as citations from \"../lib/citations.js\"\nimport * as utils from \"../lib/utils.js\"\nimport { ReferenceManager } from \"../lib/entities.js\"\n\nimport Layout from \"../components/layout\"\n// import Image from \"../components/image\"\n\nimport css from \"./projects.module.css\"\n\nimport projectsData from \"../../jsonld/projects.json\"\nimport publicationsData from \"../../jsonld/publications.json\"\nimport citationsData from \"../../jsonld/citations.json\"\n\nexport default function TimelinePage() {\n  const refs = new ReferenceManager();\n  refs.addEntitiesFromData(publicationsData);\n  refs.addEntitiesFromData(citationsData);\n  const filledProjectData = refs.fillReferences(projectsData);\n  // console.log(\"Filled project data:\", filledProjectData);\n\n  const projects = filledProjectData.projects\n    .map(src => {\n      const dest = {...src};\n      dest.startTime = DateTime.fromISO(dest.startDate);\n      dest.endTime = DateTime.fromISO(dest.endDate);\n      dest.products = (dest.products || []).map(srcProduct => {\n        const dest = {...srcProduct};\n        dest.startTime = DateTime.fromISO(dest.startDate);\n        dest.endTime = DateTime.fromISO(dest.endDate);\n        return dest;\n      }).sort(\n        (a, b) => b.endTime.toMillis() - a.endTime.toMillis()\n      );\n      return dest;\n    })\n    .sort(\n      (a, b) => b.endTime.toMillis() - a.endTime.toMillis()\n    );\n\n  return (\n    <Layout title=\"Projects\">\n\n      {\n        projects.map((project, index) => {\n          const slug = slugify(project.name);\n\n          return (<div>\n            <div id={slug} class={css.projectTitle}>\n              <a class=\"section-link\" href={\"#\" + slug}>&sect;</a>\n              { dates.getShortDiffSpan(project.startTime, project.endTime) }\n              {\" \"}&bull;{\" \"}\n              <strong>{ project.name }</strong>\n            </div>\n            { project.description && utils.paragraphMultiline(project.description, true) }\n            <ul class=\"uncompressed\">\n              { project.products.map(product => <li>{creativeworks.renderCreativeWork(product, slug)}</li>) }\n            </ul>\n            <hr class={css.projectEndHR} />\n          </div>);\n        })\n      }\n    </Layout>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"projectTitle\":\"projects-module--projectTitle--154kd\",\"projectEndHR\":\"projects-module--projectEndHR--28ObJ\"};"],"sourceRoot":""}