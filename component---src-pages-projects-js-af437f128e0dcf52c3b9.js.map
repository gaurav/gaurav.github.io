{"version":3,"sources":["webpack:///./src/pages/projects.js","webpack:///./src/pages/projects.module.css"],"names":["TimelinePage","refs","ReferenceManager","addEntitiesFromData","publicationsData","citationsData","projects","fillReferences","projectsData","map","src","dest","startTime","DateTime","fromISO","startDate","endTime","endDate","products","srcProduct","sort","a","b","toMillis","title","project","index","slug","slugify","name","id","class","css","projectTitle","href","dates","description","utils","product","creativeworks","projectEndHR","module","exports"],"mappings":"6FAAA,kQAqBe,SAASA,IACtB,IAAMC,EAAO,IAAIC,IACjBD,EAAKE,oBAAoBC,GACzBH,EAAKE,oBAAoBE,GACzB,IAGMC,EAHoBL,EAAKM,eAAeC,GAGXF,SAChCG,KAAI,SAAAC,GACH,IAAMC,EAAI,iBAAOD,GAWjB,OAVAC,EAAKC,UAAYC,WAASC,QAAQH,EAAKI,WACvCJ,EAAKK,QAAUH,WAASC,QAAQH,EAAKM,SACrCN,EAAKO,UAAYP,EAAKO,UAAY,IAAIT,KAAI,SAAAU,GACxC,IAAMR,EAAI,iBAAOQ,GAGjB,OAFAR,EAAKC,UAAYC,WAASC,QAAQH,EAAKI,WACvCJ,EAAKK,QAAUH,WAASC,QAAQH,EAAKM,SAC9BN,KACNS,MACD,SAACC,EAAGC,GAAJ,OAAUA,EAAEN,QAAQO,WAAaF,EAAEL,QAAQO,cAEtCZ,KAERS,MACC,SAACC,EAAGC,GAAJ,OAAUA,EAAEN,QAAQO,WAAaF,EAAEL,QAAQO,cAG/C,OACE,kBAAC,IAAD,CAAQC,MAAM,YAGVlB,EAASG,KAAI,SAACgB,EAASC,GACrB,IAAMC,EAAOC,IAAQH,EAAQI,MAE7B,OAAQ,6BACN,yBAAKC,GAAIH,EAAMI,MAAOC,IAAIC,cACxB,uBAAGF,MAAM,eAAeG,KAAM,IAAMP,GAApC,KACEQ,IAAuBV,EAAQb,UAAWa,EAAQT,SACnD,IAHH,IAGc,IACZ,gCAAUS,EAAQI,OAElBJ,EAAQW,aAAeC,IAAyBZ,EAAQW,aAAa,GACvE,wBAAIL,MAAM,gBACNN,EAAQP,SAAST,KAAI,SAAA6B,GAAO,OAAI,4BAAKC,IAAiCD,EAASX,QAEnF,wBAAII,MAAOC,IAAIQ,sB,qBChE3BC,EAAOC,QAAU,CAAC,aAAe,uCAAuC,aAAe","file":"component---src-pages-projects-js-af437f128e0dcf52c3b9.js","sourcesContent":["import React from \"react\"\nimport { DateTime } from \"luxon\"\nimport { Link } from \"gatsby\"\nimport slugify from \"slugify\"\n\nimport * as dates from \"../lib/dates.js\"\nimport * as orgs from \"../lib/organizations.js\"\nimport * as creativeworks from \"../lib/creativeworks.js\"\nimport * as citations from \"../lib/citations.js\"\nimport * as utils from \"../lib/utils.js\"\nimport { ReferenceManager } from \"../lib/entities.js\"\n\nimport Layout from \"../components/layout\"\n// import Image from \"../components/image\"\n\nimport css from \"./projects.module.css\"\n\nimport projectsData from \"../jsonld/projects.json\"\nimport publicationsData from \"../jsonld/publications.json\"\nimport citationsData from \"../jsonld/citations.json\"\n\nexport default function TimelinePage() {\n  const refs = new ReferenceManager();\n  refs.addEntitiesFromData(publicationsData);\n  refs.addEntitiesFromData(citationsData);\n  const filledProjectData = refs.fillReferences(projectsData);\n  // console.log(\"Filled project data:\", filledProjectData);\n\n  const projects = filledProjectData.projects\n    .map(src => {\n      const dest = {...src};\n      dest.startTime = DateTime.fromISO(dest.startDate);\n      dest.endTime = DateTime.fromISO(dest.endDate);\n      dest.products = (dest.products || []).map(srcProduct => {\n        const dest = {...srcProduct};\n        dest.startTime = DateTime.fromISO(dest.startDate);\n        dest.endTime = DateTime.fromISO(dest.endDate);\n        return dest;\n      }).sort(\n        (a, b) => b.endTime.toMillis() - a.endTime.toMillis()\n      );\n      return dest;\n    })\n    .sort(\n      (a, b) => b.endTime.toMillis() - a.endTime.toMillis()\n    );\n\n  return (\n    <Layout title=\"Projects\">\n\n      {\n        projects.map((project, index) => {\n          const slug = slugify(project.name);\n\n          return (<div>\n            <div id={slug} class={css.projectTitle}>\n              <a class=\"section-link\" href={\"#\" + slug}>&sect;</a>\n              { dates.getShortDiffSpan(project.startTime, project.endTime) }\n              {\" \"}&bull;{\" \"}\n              <strong>{ project.name }</strong>\n            </div>\n            { project.description && utils.paragraphMultiline(project.description, true) }\n            <ul class=\"uncompressed\">\n              { project.products.map(product => <li>{creativeworks.renderCreativeWork(product, slug)}</li>) }\n            </ul>\n            <hr class={css.projectEndHR} />\n          </div>);\n        })\n      }\n    </Layout>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"projectTitle\":\"projects-module--projectTitle--154kd\",\"projectEndHR\":\"projects-module--projectEndHR--28ObJ\"};"],"sourceRoot":""}